# **–û—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ OpenSearch**


### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ:**  
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–±–æ—Ä–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–µ–±-–ª–æ–≥–æ–≤ 
—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–µ–¥—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:  
- OpenSearch;  
- OpenSearch Dashboards;  
- Logstash.
 
## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞  
–î–ª—è –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑—É—á–∏—Ç—å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤—ã—à–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –ü–æ—Å–ª–µ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π OpenSearch, –∞ —Ç–∞–∫–∂–µ —Å–æ —Å—Ç–∞—Ç—å—è–º–∏ –∏ –≤–∏–¥–µ–æ–º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ —è –ø—Ä–∏—Å—Ç—É–ø–∏–ª –∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç–∏.
–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤ –∑–∞–¥–∞–Ω–∏–∏ –±—ã–ª–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å–ø–æ—Å–æ–± —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è. –Ø —Ä–µ—à–∏–ª —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å OpenSearch –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Å Linux –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker, –Ω–æ –ø–æ–∑–∂–µ —Ä–µ—à–∏–ª, —á—Ç–æ –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è —Ö–æ—á—É –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –∏ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ç–∞–∫–∏–º –≤–∞–∂–Ω—ã–º –∏ –Ω–æ–≤—ã–º –¥–ª—è –º–µ–Ω—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –∫–∞–∫ Docker, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å–≤–æ—é Windows 10.

## **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**  
### 1)	–î–ª—è –Ω–∞—á–∞–ª–∞ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker Desktop –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–≥–ª—è–¥–Ω–æ–≥–æ –∏ –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π;  

### 2)	**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ OpenSearch:**
   
- –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞ OpenSearch:

```powershell
docker pull bitnami/opensearch:latest
```
- —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:   
```powershell
docker network create app-tier --driver bridge
```

- –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: 
```powershell
docker run -d \
--name opensearch-server \
-p 9200:9200 \
-p 9300:9300 \
--network app-tier \
-v opensearch_data:/bitnami/opensearch bitnami/opensearch:latest
```
- –±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫: opensearch_password, opensearch_cluster_name, opensearch_heap_size, opensearch_enable_security –∏ —Ç.–¥.  
–ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è opensearch_password: 
```powershell
docker run -d \
  --name opensearch-server \
  -p 9200:9200 \
  -p 9300:9300 \
  --network app-tier \
  -e OPENSEARCH_PASSWORD=mysecurepassword \
  -v opensearch_data:/bitnami/opensearch \
  bitnami/opensearch:latest
```
–ò—Ç–æ–≥–æ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OpenSearch –±—ã–ª–æ —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ localhost:9200.

### 3)	**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ OpenSearch Dashboards:**
 
- –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞ OpenSearch Dashboards: 
```powershell
docker pull bitnami/opensearch-dashboards:latest
```
- –≤–∞–∂–Ω—ã–º —à–∞–≥–æ–º –±—ã–ª–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å OpenSearch Dashboards —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ —Ç–æ–π –∂–µ —Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –ø—É–Ω–∫—Ç–æ–º –≤—ã—à–µ: 
```powershell
docker run -d --name opensearch-dashboards -p 5601:5601 `
  --network app-tier `
  -e OPENSEARCH_DASHBOARDS_OPENSEARCH_URL=http://opensearch-server:9200 `
  bitnami/opensearch-dashboards:latest
```
–ø–æ—Å–ª–µ —ç—Ç–∏—Ö –∫–æ–º–∞–Ω–¥ –±—ã–ª —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω localhost:5601.  

 
 ### 4) **–£—Å—Ç–∞–Ω–æ–≤–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö Logstash:**
    
- –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞ Logstash:
```powershell
docker pull docker.elastic.co/logstash/logstash:8.12.0
```
- —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–∞–ø–æ–∫: 
```powershell
mkdir C:\docker\logstash
mkdir C:\docker\logstash\pipeline
mkdir C:\docker\logstash\data
```
- —Å–∫–∞—á–∞–Ω –¥–∞—Ç–∞—Å–µ—Ç —Å Kaggle ***https://www.kaggle.com/datasets/eliasdabbas/web-server-access-logs*** –≤ –∫–æ—Ç–æ—Ä–æ–º –ª–æ–≥–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É Apache Common Log Format (CLF), —á—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—â–∞–µ—Ç—Å—è —Å –±—É–¥—É—â–∏–º Grok-—Ñ–∏–ª—å—Ç—Ä–æ–º; 
- –ø–æ–º–µ—Å—Ç–∏–ª —Ä–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π access.log –≤ C:\docker\logstash\data\;  
- —Å–æ–∑–¥–∞–ª –ø—Ä–∏ –ø–æ–º–æ—â–∏ Notepad++ logstash.conf –≤ C:\docker\logstash\pipeline\. –í–∞–∂–Ω—ã–º–∏ –¥–µ—Ç–∞–ª—è–º–∏ —è–≤–ª—è–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ñ–∞–π–ª –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ UTF-8 –±–µ–∑ BOM —Å –ø–µ—Ä–µ–Ω–æ—Å–∞–º–∏ —Å—Ç—Ä–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LF (Unix), –∞ –Ω–µ CRLF (Windows);  
- –æ—Ç–º–µ—á—É, —á—Ç–æ –∫–æ–º–∞–Ω–¥–∞ **docker logs -f logstash** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å —á–∞—â–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –ø–æ—Å–∫–æ–ª—å–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ logstash.conf –ª–µ–≥–∫–æ –ø—Ä–µ–≤—ã—Å–∏–ª–æ –¥–µ—Å—è—Ç–∫–∏, –∞ –º–æ–∂–µ—Ç –∏ —Å–æ—Ç–Ω–∏. –û–± –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ logstash.conf –±—É–¥–µ—Ç —É–ø–æ–º—è–Ω—É—Ç–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø—É–Ω–∫—Ç–µ;  
- –≤—ã–ø–æ–ª–Ω–∏–ª —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –∫ OpenSearch, –ø–æ –∏—Ç–æ–≥–∞–º –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ –±–æ–ª–µ–µ 10,000 –∑–∞–ø–∏—Å–µ–π, —Å–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å apache-logs-1995.07.01, –∞ —Ç–∞–∫–∂–µ —Ç–∞–∫–∏–µ –ø–æ–ª—è –∫–∞–∫ client, method, response, request, bytes, @timestamp –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å–ø–∞—Ä—à–µ–Ω—ã:
  
```powershell
PS C:\Users\Dmitry> curl.exe -XGET "http://localhost:9200/apache-logs-*/_search?pretty" -u admin:admin
```

<details>
<summary>üìã –ü–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–∂–º–∏—Ç–µ —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å)</summary>

```json
{
  "took" : 106409,
  "timed_out" : false,
  "_shards" : {
    "total" : 2,
    "successful" : 2,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 10000,
      "relation" : "gte"
    },
    "max_score" : 1.0,
    "hits" : [
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "HwU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "p06.eznets.canton.oh.us - - [01/Jul/1995:00:07:04 -0400] \"GET /shuttle/missions/sts-71/mission-sts-71.html HTTP/1.0\" 200 12040"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "p06.eznets.canton.oh.us - - [01/Jul/1995:00:07:04 -0400] \"GET /shuttle/missions/sts-71/mission-sts-71.html HTTP/1.0\" 200 12040",
          "bytes" : "12040",
          "@timestamp" : "1995-07-01T04:07:04.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "p06.eznets.canton.oh.us",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:04 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/shuttle/missions/sts-71/mission-sts-71.html"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "IAU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "waters-gw.starway.net.au - - [01/Jul/1995:00:07:19 -0400] \"GET /shuttle/missions/51-l/images/86HC119.GIF HTTP/1.0\" 200 127775"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "waters-gw.starway.net.au - - [01/Jul/1995:00:07:19 -0400] \"GET /shuttle/missions/51-l/images/86HC119.GIF HTTP/1.0\" 200 127775",
          "bytes" : "127775",
          "@timestamp" : "1995-07-01T04:07:19.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "waters-gw.starway.net.au",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:19 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/shuttle/missions/51-l/images/86HC119.GIF"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "IQU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "asp.erinet.com - - [01/Jul/1995:00:07:23 -0400] \"GET /software/winvn/winvn.html HTTP/1.0\" 200 9867"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "asp.erinet.com - - [01/Jul/1995:00:07:23 -0400] \"GET /software/winvn/winvn.html HTTP/1.0\" 200 9867",
          "bytes" : "9867",
          "@timestamp" : "1995-07-01T04:07:23.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "asp.erinet.com",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:23 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/software/winvn/winvn.html"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "IgU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "ppp236.iadfw.net - - [01/Jul/1995:00:07:29 -0400] \"GET /images/KSC-logosmall.gif HTTP/1.0\" 200 1204"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "ppp236.iadfw.net - - [01/Jul/1995:00:07:29 -0400] \"GET /images/KSC-logosmall.gif HTTP/1.0\" 200 1204",
          "bytes" : "1204",
          "@timestamp" : "1995-07-01T04:07:29.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "ppp236.iadfw.net",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:29 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/images/KSC-logosmall.gif"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "IwU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "ix-sd11-26.ix.netcom.com - - [01/Jul/1995:00:07:34 -0400] \"GET /images/KSC-logosmall.gif HTTP/1.0\" 200 1204"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "ix-sd11-26.ix.netcom.com - - [01/Jul/1995:00:07:34 -0400] \"GET /images/KSC-logosmall.gif HTTP/1.0\" 200 1204",
          "bytes" : "1204",
          "@timestamp" : "1995-07-01T04:07:34.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "ix-sd11-26.ix.netcom.com",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:34 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/images/KSC-logosmall.gif"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "JAU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "199.166.39.14 - - [01/Jul/1995:00:07:37 -0400] \"GET /shuttle/missions/sts-71/movies/sts-71-tcdt-crew-walkout.mpg HTTP/1.0\" 200 131072"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "199.166.39.14 - - [01/Jul/1995:00:07:37 -0400] \"GET /shuttle/missions/sts-71/movies/sts-71-tcdt-crew-walkout.mpg HTTP/1.0\" 200 131072",
          "bytes" : "131072",
          "@timestamp" : "1995-07-01T04:07:37.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "199.166.39.14",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:37 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/shuttle/missions/sts-71/movies/sts-71-tcdt-crew-walkout.mpg"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "JQU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "ppp4.sunrem.com - - [01/Jul/1995:00:07:43 -0400] \"GET /images/KSC-logosmall.gif HTTP/1.0\" 200 1204"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "ppp4.sunrem.com - - [01/Jul/1995:00:07:43 -0400] \"GET /images/KSC-logosmall.gif HTTP/1.0\" 200 1204",
          "bytes" : "1204",
          "@timestamp" : "1995-07-01T04:07:43.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "ppp4.sunrem.com",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:43 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/images/KSC-logosmall.gif"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "tAU6cJgBiDr79qVeKE78",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "wwwproxy.info.au - - [01/Jul/1995:00:09:39 -0400] \"GET /images/WORLD-logosmall.gif HTTP/1.0\" 304 0"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "wwwproxy.info.au - - [01/Jul/1995:00:09:39 -0400] \"GET /images/WORLD-logosmall.gif HTTP/1.0\" 304 0",
          "bytes" : "0",
          "@timestamp" : "1995-07-01T04:09:39.000Z",
          "httpversion" : "1.0",
          "response" : "304",
          "method" : "GET",
          "@version" : "1",
          "client" : "wwwproxy.info.au",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:09:39 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/images/WORLD-logosmall.gif"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "JgU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "dnet018.sat.texas.net - - [01/Jul/1995:00:07:50 -0400] \"GET /images/ksclogo-medium.gif HTTP/1.0\" 200 5866"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "dnet018.sat.texas.net - - [01/Jul/1995:00:07:50 -0400] \"GET /images/ksclogo-medium.gif HTTP/1.0\" 200 5866",
          "bytes" : "5866",
          "@timestamp" : "1995-07-01T04:07:50.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "dnet018.sat.texas.net",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:07:50 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/images/ksclogo-medium.gif"
        }
      },
      {
        "_index" : "apache-logs-1995.07.01",
        "_id" : "JwU6cJgBiDr79qVeKU8C",
        "_score" : 1.0,
        "_source" : {
          "event" : {
            "original" : "dnet018.sat.texas.net - - [01/Jul/1995:00:08:00 -0400] \"GET /images/USA-logosmall.gif HTTP/1.0\" 200 234"
          },
          "ident" : "-",
          "auth" : "-",
          "message" : "dnet018.sat.texas.net - - [01/Jul/1995:00:08:00 -0400] \"GET /images/USA-logosmall.gif HTTP/1.0\" 200 234",
          "bytes" : "234",
          "@timestamp" : "1995-07-01T04:08:00.000Z",
          "httpversion" : "1.0",
          "response" : "200",
          "method" : "GET",
          "@version" : "1",
          "client" : "dnet018.sat.texas.net",
          "log" : {
            "file" : {
              "path" : "/usr/share/logstash/data/access.log"
            }
          },
          "timestamp" : "01/Jul/1995:00:08:00 -0400",
          "host" : {
            "name" : "a738127120e3"
          },
          "request" : "/images/USA-logosmall.gif"
        }
      }
    ]
  }
}
```
</details>


## **–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ logstash.conf**  

–≠—Ç–∞–ø –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ logstash.conf –≤—ã–∑–≤–∞–ª –Ω–µ–±–æ–ª—å—à–∏–µ –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏—è –ø—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —É–∑–ª–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞.
–í–∞–∂–Ω–æ –±—ã–ª–æ –ø–æ–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ —Ç–æ, –∫–∞–∫ –æ–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞, –∞ —Ç–∞–∫–∂–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã:  
- File Input Plugin (—á–∏—Ç–∞–µ—Ç –ª–æ–≥–∏ –∏–∑ —Ñ–∞–π–ª–∞);  
- Grok Filter Plugin (—Ä–∞–∑–±–∏—Ä–∞–µ—Ç –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –≤ –ø–æ–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–∞—Ç—É, IP, –æ—à–∏–±–∫—É);  
- OpenSearch Output Plugin (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –≤ OpenSearch).  
  
–û—à–∏–±–∫–∏ –±—ã–ª–∏ —Ä–∞–∑–ª–∏—á–Ω–æ–≥–æ —Ç–∏–ø–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ:   
```powershell
[2025-08-02T19:36:42,300][ERROR][logstash.agent ] Failed to execute action {:action=>LogStash::PipelineAction::Create/pipeline_id:main, :exception=>"LogStash::ConfigurationError", :message=>"Expected one of [ \\t\\r\\n], \"#\", \"input\", \"filter\", \"output\" at line 1, column 1 (byte 1)", :backtrace=>["/opt/bitnami/logstash/logstash-core/lib/logstash/compiler.rb:32:in `compile_imperative'", "org/logstash/execution/AbstractPipelineExt.java:285:in `initialize'", "org/logstash/execution/AbstractPipelineExt.java:223:in `initialize'", "/opt/bitnami/logstash/logstash-core/lib/logstash/java_pipeline.rb:47:in `initialize'", "org/jruby/RubyClass.java:950:in `new'", "/opt/bitnami/logstash/logstash-core/lib/logstash/pipeline_action/create.rb:50:in `execute'", "/opt/bitnami/logstash/logstash-core/lib/logstash/agent.rb:431:in `block in converge_state'"]}
```
Logstash –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –º–∏–Ω–∏–º—É–º –æ–¥–Ω—É –∏–∑ —Å–µ–∫—Ü–∏–π: input, filter, output, –∫–∞–∫ —Ä–∞–∑ –≤ —ç—Ç–æ–º –ª–æ–≥–µ –æ—à–∏–±–∫–∞ Expected one of [ \t\r\n], "#", "input", "filter", "output" –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ —Ñ–∞–π–ª –ª–∏–±–æ –ø—É—Å—Ç–æ–π, –ª–∏–±–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –Ω–∞—á–∞–ª–µ. –†–µ—à–µ–Ω–∏–µ–º –¥–ª—è –ø–æ–¥–æ–±–Ω—ã—Ö –æ—à–∏–±–æ–∫ –±—ã–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8 –±–µ–∑ BOM, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Å–∫—Ä—ã—Ç—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Ç.–¥. 

–ë—ã–ª–∏ –æ—à–∏–±–∫–∏ ‚Äì –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤, –ø–æ—Ç–æ–º—É —á—Ç–æ Logstash –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 9600 –¥–ª—è API, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, —Ç–∞–∫–∏–º–∏–∏ –∫–∞–∫ Docker Desktop.   
–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–∞–∫–æ–≥–æ –ª–æ–≥–∞: 
```powershell
[2025-08-02T19:46:01,079][INFO ][logstash.agent ] Successfully started Logstash API endpoint {:port=>9600, :ssl_enabled=>false} [2025-08-02T19:46:01,097][INFO ][logstash.runner ] Logstash shut down. [2025-08-02T19:46:01,109][FATAL][org.logstash.Logstash ] Logstash stopped processing because of an error: (SystemExit) exit
```
–†–µ—à–µ–Ω–∏–µ–º —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ API Logstash.

## **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**

- –≤ OpenSearch Dashboards –±—ã–ª —Å–æ–∑–¥–∞–Ω Index Pattern –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã Dashboards –∑–Ω–∞–ª, –≥–¥–µ –∏—Å–∫–∞—Ç—å –ª–æ–≥–∏;  

    <div align="center">
  <img src="screenshots/index_pattern.png" alt="Index Pattern Configuration" width="600" style="border: 1px solid #eee; border-radius: 8px;">
  <p><em>–†–∏—Å. 1 ‚Äî Index Pattern –≤ OpenSearch Dashboards</em></p>
</div>
  
- —Å–æ–∑–¥–∞–Ω —Ä—è–¥ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π (metric, pie, data table, line, vertical bar);  

<div align="center" style="max-width: 100%;">
  
  <div style="margin: 20px 0;">
    <img src="screenshots/visualizations.png" alt="Visualizations" width="600" style="max-width: 100%; border: 1px solid #eee; border-radius: 8px;">
    <p><em>–†–∏—Å. 2 ‚Äî –ü–µ—Ä–µ—á–µ–Ω—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π</em></p>
  </div>
  
   <div style="margin: 20px 0;">
    <img src="screenshots/visualization_2.png" alt="HTTP Status" width="600" style="max-width: 100%; border: 1px solid #eee; border-radius: 8px;">
    <p><em>–†–∏—Å. 3 ‚Äî –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è HTTP Status Distribution ‚Ññ 1</em></p>
  </div>
  
   <div style="margin: 20px 0;">
    <img src="screenshots/visualization_2.1.png" alt="HTTP Details" width="600" style="max-width: 100%; border: 1px solid #eee; border-radius: 8px;">
    <p><em>–†–∏—Å. 4 ‚Äî –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è HTTP Status Distribution ‚Ññ 2</em></p>
  </div>
</div>

- –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫: field - response, operator - is between 300/400);

  <div align="center">
  <img src="screenshots/filter.png" alt="filter" width="600">
  <p><em>–†–∏—Å. 5 ‚Äî –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ HHTTP Status Distribution</em></p>
</div>
 
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ —Ü–≤–µ—Ç–æ–≤–∞—è —Ä–∞—Å–∫—Ä–∞—Å–∫–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è;

  <div align="center">
  <img src="screenshots/visualization_1.png" alt="Index Pattern Configuration" width="600" style="border: 1px solid #eee; border-radius: 8px;">
  <p><em>–†–∏—Å. 6 ‚Äî –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤–æ–π —Ä–∞—Å–∫—Ä–∞—Å–∫–∏</em></p>
</div>
     
- —Å–æ–∑–¥–∞–Ω –¥–∞—à–±–æ—Ä–¥, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ —Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–æ–≤ —É–∂–µ –≤ —Ä–∞–º–∫–∞—Ö –¥–∞—à–±–æ—Ä–¥–∞.

  <div align="center">
  <img src="screenshots/dashboard_1.png" alt="Index Pattern Configuration" width="600" style="border: 1px solid #eee; border-radius: 8px;">
  <p><em>–†–∏—Å. 7 ‚Äî –ü—Ä–∏–º–µ—Ä –¥–∞—à–±–æ—Ä–¥–∞ ‚Ññ 1 </em></p>
</div>

<div align="center">
  <img src="screenshots/dashboard_2.png" alt="Index Pattern Configuration" width="600" style="border: 1px solid #eee; border-radius: 8px;">
  <p><em>–†–∏—Å. 7 ‚Äî –ü—Ä–∏–º–µ—Ä –¥–∞—à–±–æ—Ä–¥–∞ ‚Ññ 2 </em></p>
</div>

## –í—ã–≤–æ–¥  

–í —Ö–æ–¥–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –±—ã–ª —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞ –±–∞–∑–µ OpenSearch, –≤–∫–ª—é—á–∞—é—â–∏–π –≤ —Å–µ–±—è —Å–±–æ—Ä –ª–æ–≥–æ–≤ —á–µ—Ä–µ–∑ Logstash –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –≤ OpenSearch Dashboards. –†–∞–±–æ—Ç–∞ –Ω–∞–¥ –∑–∞–¥–∞–Ω–∏–µ–º –ø–æ–∑–≤–æ–ª–∏–ª–∞ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –æ–∫–∞–∑–∞–ª—Å—è –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Grok-—Ñ–∏–ª—å—Ç—Ä–æ–≤ –≤ Logstash –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π. –ù–∞–∏–±–æ–ª—å—à—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã–∑–≤–∞–ª–∞ –æ—Ç–ª–∞–¥–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Logstash, –Ω–æ —ç—Ç–æ —Ü–µ–Ω–Ω—ã–π –æ–ø—ã—Ç –¥–ª—è –±—É–¥—É—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.


  








